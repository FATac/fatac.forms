<script>
    function setObjectId(id)
    {
      var elOptNew = document.createElement('option');
      elOptNew.text = id;
      elOptNew.value = id;
      var elSel = document.getElementById('selectX');

      try {
        elSel.add(elOptNew, null); // standards compliant; doesn't work in IE
      } catch(ex) {
        elSel.add(elOptNew); // IE only
      }
    }

    function removeOptionSelected()
    {
      var elSel = document.getElementById('selectX');
      var i;
      for (i = elSel.length - 1; i>=0; i--) {
        if (elSel.options[i].selected) {
          elSel.remove(i);
        }
      }
    }

    function serializeList() {
      var elSel = document.getElementById('selectX');
      var i;
      var result = '';
      for (i = elSel.length - 1; i>=0; i--) {
          if (result.match(elSel.options[i].value) == null) {
              result += elSel.options[i].value + ',';
          }
      }

      return result;
    }
</script>

<form name='legalSelectObjects' action='legalValidation' method='POST'>
    <select name='objectList' id='selectX' size='10'>
    </select>
    <input type='button' value='Seek' onclick="var seekWin = window.open('./selectObject'); ">
    <input type='button' value='Remove' onclick=" removeOptionSelected(); ">
    <input type='hidden' name='objectIdsVal' value=''>
    <input type='button' value='Ok' onclick=" document.legalSelectObjects.objectIdsVal.value = serializeList(); document.legalSelectObjects.submit(); ">
</form>
